<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
      <title>JNetReflector tool of Java/JVM suite for .NET | MASES Group - JNet </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="JNetReflector tool of Java/JVM suite for .NET | MASES Group - JNet ">
      <meta name="description" content="Describes the tool which builds .NET classes analyzing JVM Jar or modules">
      
      <link rel="icon" href="../images/favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/masesgroup/JNet/blob/master/src/documentation/articles/usageReflector.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="jnet-reflector">JNet: Reflector</h1>

<p>The tool is able to build .NET classes which reproduce the JVM class (Java, Scala, Kotlin, ...) counterpart.</p>
<h2 id="installation">Installation</h2>
<p>To install the tool follows the instructions on <a href="https://www.nuget.org/packages/MASES.JNetReflector/">NuGet</a> and <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-tools">https://docs.microsoft.com/en-us/dotnet/core/tools/global-tools</a>.</p>
<h2 id="usage">Usage</h2>
<p>To use JNetReflector runs a command like the following:</p>
<ul>
<li>dotnet tool</li>
</ul>
<pre><code class="lang-sh">jnetreflector -OriginRootPath C:\\myJars -OriginJavadocUrl \&quot;https://thehost/javadoc/\&quot; -JavadocVersion 11 -DestinationRootPath C:\\ReflectionDestination
</code></pre>
<h2 id="command-switches-available">Command switches available</h2>
<p><em>jnr</em> accepts the following command-line switch:</p>
<ul>
<li><strong>ConfigurationFile</strong>: The path where is stored a JSON file containing the tool configuration properties; the JSON items shall be written using the same command-line property names</li>
<li><strong>JavaPLocationPath</strong>: The path where the tool will locate javap, default is to use system available</li>
<li><strong>OriginRootPath</strong>: The origin path where Jars to be analyzed, and dependencies, are stored</li>
<li><strong>OriginJavadocUrl</strong>: The base URL of the Javadoc to be associated to the classes</li>
<li><strong>JavadocVersion</strong>: The version of the Javadoc to be associated to the classes, it means the Javadoc tool version used</li>
<li><strong>JavadocNoModule</strong>: Do not add module in the Javadoc generated Url</li>
<li><strong>OriginJavadocJARVersionAndUrls</strong>: A CSV list of keypair of JavadocVersion and OriginJavadocUrl, separated by |, associated to the JARs to be analyzed</li>
<li><strong>DestinationRootPath</strong>: The destination root path where reflected classes will be stored</li>
<li><strong>DestinationCSharpClassPath</strong>: The destination root path where C# reflected classes will be stored</li>
<li><strong>RelativeDestinationCSharpClassPath</strong>: The relative destination root path, respect to DestinationRootPath, where C# reflected classes will be stored</li>
<li><strong>DestinationJavaListenerPath</strong>: The destination root path where Java listener classes will be stored</li>
<li><strong>RelativeDestinationJavaListenerPath</strong>: The destination root path, respect to DestinationRootPath, where Java listener classes will be stored</li>
<li><strong>JavaListenerBasePackage</strong>: The base package name to use when a Java listener class is created</li>
<li><strong>ClassesToAnalyze</strong>: A CSV list of full qualified class names to be analyzed</li>
<li><strong>JarList</strong>: A CSV list of JAR to be analyzed or folders containing the JARs</li>
<li><strong>ModulesToParse</strong>: A CSV list of module patterns to be parsed during analysis, it avoids the usage of OriginRootPath</li>
<li><strong>NamespacesToAvoid</strong>: A CSV list of namespaces to be removed from analysis</li>
<li><strong>ClassesToAvoid</strong>: A CSV list of classes to be removed during analysis</li>
<li><strong>ClassesToAvoidInGenerics</strong>: A CSV list of classes to be removed during analysis from the classes which have generics types</li>
<li><strong>ClassesManuallyDeveloped</strong>: A CSV list of class names will be manually developed</li>
<li><strong>ClassesToBeListener</strong>: A CSV list of class names to be treated as Listener, the tool consider any class which its name ends with &quot;Listener&quot; or &quot;Adapter&quot; as Listener</li>
<li><strong>ClassesToRemoveAsListener</strong>: A CSV list of class names to be removed from the list of Listener identified since the tool consider any class which its name ends with &quot;Listener&quot; or &quot;Adapter&quot; as Listener</li>
<li><strong>ClassesToAvoidJavaListener</strong>: A CSV list of class names to be avoided during generation of Java listener classes</li>
<li><strong>NamespacesInConflict</strong>: A CSV list of namespaces in conflict with class name: to this one will be added an &quot;Ns&quot; at the end</li>
<li><strong>ClassesInConflict</strong>: A CSV list of classes in conflict with namespace name: to this one will be added an &quot;Class&quot; at the end</li>
<li><strong>PreferMethodWithSignature</strong>: The option forces the tool to identify and use signature when available</li>
<li><strong>DisablePropertiesForGetterSetter</strong>: The option disable generation of properties for getter/setter methods</li>
<li><strong>OnlyPropertiesForGetterSetter</strong>: The option forces the tool to convert into properties only getter/setter</li>
<li><strong>ReflectDeprecated</strong>: The option forces the tool to write any constructor, method or field marked as deprecated, default is to avoid deprecated</li>
<li><strong>AvoidCSharpGenericDefinition</strong>: The option forces the tool to reflect generics without create the C# generic definition</li>
<li><strong>AvoidCSharpGenericClauseDefinition</strong>: The option forces the tool to reflect generics without create the clauses of C# generic definition</li>
<li><strong>DisableGenericsInNonGenericClasses</strong>: The option disables generation of generic methods in non generic classes</li>
<li><strong>DisableGenerics</strong>: The option forces the tool to disable any generic type</li>
<li><strong>UseDirectDotNetType</strong>: The option forces the tool to use directly .NET type instead of JVM class, netive types are always managed as native (boolean - bool, etc)</li>
<li><strong>CreateInterfaceInheritance</strong>: The option forces the tool to create the C# interface inheritance</li>
<li><strong>DisableInterfaceMethodGeneration</strong>: The option disables the generation of the methods in the C# interface</li>
<li><strong>UseDotNetNullable</strong>: The option forces the tool to use .NET nullable instead of Java types for native types</li>
<li><strong>AvoidParallelBuild</strong>: The option forces the tool to disable parallel execution</li>
<li><strong>DryRun</strong>: Execute everything, but do not write anything to disk</li>
<li><strong>DoNotCamel</strong>: Does not use camelized names in methods, class and so on</li>
<li><strong>TraceLevel</strong>: The level of traces to be reported: 0 - Critical ... 5 - Verbose</li>
<li><strong>TraceTo</strong>: The file name where traces will be write, default write to console</li>
</ul>
<h2 id="jnet-reflected-classes">JNet reflected classes</h2>
<p>Many JNet classes are generated using JNetReflector. The JVM used to build the classes is the Temurin version 11 which is the minimum JVM version supported from JCOBridge.
The command line interface uses the following command line:</p>
<pre><code class="lang-sh">jnetreflector -TraceLevel 0 -DestinationRootPath .\src\ -ConfigurationFile .\src\configuration.json
</code></pre>
<p>The options used are:</p>
<pre><code class="lang-json">{
  &quot;RelativeDestinationCSharpClassPath&quot;: &quot;net\\JNet\\Generated&quot;,
  &quot;RelativeDestinationJavaListenerPath&quot;: &quot;jvm\\jnet\\src\\main\\java&quot;,
  &quot;JavaListenerBasePackage&quot;: &quot;org.mases.jnet.generated&quot;,
  &quot;PreferMethodWithSignature&quot;: true,
  &quot;OnlyPropertiesForGetterSetter&quot;: true,
  &quot;ModulesToParse&quot;: [
    &quot;org.*&quot;,
    &quot;java.*&quot;
  ],
  &quot;OriginJavadocUrl&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api/&quot;,
  &quot;JavadocVersion&quot;: 11,
  &quot;NamespacesToAvoid&quot;: [
    &quot;org.jcp.xml.dsig.internal&quot;,
    &quot;com.oracle&quot;,
    &quot;com.sun&quot;,
    &quot;org.mases&quot;,
    &quot;org.junit&quot;,
    &quot;org.hamcrest&quot;,
    &quot;org.burningwave&quot;,
    &quot;org.graalvm&quot;,
    &quot;org.slf4j&quot;,
    &quot;java.awt.peer&quot;
  ],
  &quot;ClassesToBeListener&quot;: [
    &quot;javax.swing.Action&quot;,
    &quot;javax.management.NotificationFilter&quot;
  ],
  &quot;ClassesToAvoid&quot;: [
    &quot;java.lang.ProcessBuilder$Redirect$Type&quot;,
    &quot;java.lang.Thread$UncaughtExceptionHandler&quot;,
    &quot;java.util.Comparator&quot;,
    &quot;java.util.EventListener&quot;,
    &quot;java.util.stream.DoubleStream$Builder&quot;,
    &quot;java.util.stream.IntStream$Builder&quot;,
    &quot;java.util.stream.LongStream$Builder&quot;,
    &quot;java.util.stream.Stream$Builder&quot;,
    &quot;java.util.ServiceLoader$Provider&quot;,
    &quot;javax.swing.ToolTipManager&quot;,
    &quot;javax.swing.text.html.HTMLEditorKit$LinkController&quot;,
    &quot;javax.swing.plaf.basic.BasicButtonListener&quot;,
    &quot;javax.swing.plaf.basic.BasicTreeUI$MouseHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicDesktopIconUI$MouseInputHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicTabbedPaneUI$FocusHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicComboBoxUI$KeyHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicSliderUI$ComponentHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicComboPopup$InvocationKeyHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicTreeUI$KeyHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicTreeUI$ComponentHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicSplitPaneUI$FocusHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicTabbedPaneUI$MouseHandler&quot;,
    &quot;javax.swing.plaf.basic.BasicOptionPaneUI$ButtonActionListener&quot;,
    &quot;javax.swing.plaf.basic.BasicToolBarUI$DockingListener&quot;,
    &quot;javax.swing.plaf.basic.BasicScrollPaneUI$HSBChangeListener&quot;,
    &quot;javax.swing.plaf.basic.BasicInternalFrameUI$InternalFramePropertyChangeListener&quot;,
    &quot;javax.swing.plaf.basic.BasicSliderUI$ScrollListener&quot;,
    &quot;javax.swing.plaf.basic.BasicSliderUI$TrackListener&quot;,
    &quot;javax.swing.plaf.basic.BasicScrollPaneUI$VSBChangeListener&quot;,
    &quot;javax.swing.plaf.metal.MetalComboBoxUI$MetalPropertyChangeListener&quot;,
    &quot;javax.tools.DiagnosticListener&quot;
  ],
  &quot;NamespacesInConflict&quot;: [
    &quot;java.lang.module&quot;,
    &quot;java.awt.color&quot;,
    &quot;java.awt.desktop&quot;,
    &quot;java.awt.image&quot;,
    &quot;java.awt.event&quot;,
    &quot;java.awt.font&quot;
  ],
  &quot;ClassesToAvoidInGenerics&quot;: [
    &quot;java.time.chrono.ChronoLocalDateTime&quot;,
    &quot;java.time.chrono.ChronoZonedDateTime&quot;
  ]
}
</code></pre>
<h3 id="running-environment-for-powershell-users">Running environment for PowerShell users</h3>
<p>The command above fails in PowerShell because the nested class separator ($) is used from PowerShell to substitute variable values.
The previous command runs without problems in a Windows Command Prompt</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/masesgroup/JNet/blob/master/src/documentation/articles/usageReflector.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <div style="text-align: center;">Copyright © 2024 MASES s.r.l.. | Via San Cesidio 16 - San Valentino in A.C. - PE | P.I. 01932310681</div>
        </div>
      </div>
    </footer>
  </body>
</html>
